/*
 nonlinear RGB (8 Bit) to linear RGB (16 bit),
 based on:
  Gamma 2.4

  0.04045 toe in range (normalized range 0..1)
  12.92 toe in slope

  epsilon 0.055

*/

/* 16 bit version */
#if 0
unsigned short gamma24_table[256]={
0,19,39,59,79,99,119,139,159,
179,198,219,240,263,287,313,339,367,396,
426,458,491,525,561,598,637,676,718,761,
805,850,897,946,996,1048,1101,1156,1212,1270,
1329,1390,1453,1517,1583,1650,1719,1790,1862,1937,
2012,2090,2169,2250,2333,2417,2503,2591,2681,2772,
2866,2961,3058,3156,3257,3359,3464,3570,3678,3788,
3900,4013,4129,4246,4366,4487,4611,4736,4863,4992,
5124,5257,5392,5529,5668,5810,5953,6098,6245,6395,
6546,6700,6856,7013,7173,7335,7499,7665,7833,8004,
8176,8351,8528,8707,8888,9072,9257,9445,9635,9827,
10022,10218,10417,10618,10821,11027,11235,11445,11657,11872,
12089,12308,12530,12754,12980,13208,13439,13673,13908,14146,
14386,14629,14874,15121,15371,15623,15877,16134,16394,16655,
16920,17186,17455,17727,18000,18277,18556,18837,19121,19407,
19696,19987,20281,20577,20875,21177,21480,21787,22096,22407,
22721,23037,23356,23678,24002,24329,24658,24990,25324,25661,
26001,26343,26688,27035,27386,27738,28094,28452,28812,29176,
29542,29910,30282,30656,31032,31412,31794,32179,32566,32956,
33349,33745,34143,34544,34948,35354,35764,36176,36590,37008,
37428,37851,38277,38706,39137,39571,40008,40448,40891,41336,
41784,42235,42689,43146,43606,44068,44533,45001,45472,45946,
46423,46902,47385,47870,48358,48850,49344,49840,50340,50843,
51349,51857,52369,52883,53400,53921,54444,54970,55499,56031,
56567,57105,57646,58190,58737,59286,59839,60395,60954,61516,
62081,62649,63220,63794,64371,64951,65535 
};
#endif

/* 8+8 bit version */
#define GAMMATAB_L 0
#define GAMMATAB_H 1
#ifdef GAMMATAB_EXT
extern const unsigned char gamma24_tableLH[256][2] PROGMEM;
#else
const unsigned char gamma24_tableLH[256][2] PROGMEM = {
{0,0},{20,0},{40,0},{60,0},{80,0},{99,0},{119,0},{139,0},{159,0},
{179,0},{199,0},{219,0},{241,0},{8,1},{32,1},{57,1},{84,1},{111,1},{140,1},
{171,1},{202,1},{235,1},{14,2},{50,2},{87,2},{125,2},{165,2},{206,2},{249,2},
{37,3},{83,3},{130,3},{179,3},{229,3},{24,4},{77,4},{132,4},{188,4},{246,4},
{50,5},{111,5},{173,5},{237,5},{47,6},{115,6},{184,6},{254,6},{71,7},{145,7},
{221,7},{42,8},{122,8},{202,8},{29,9},{114,9},{200,9},{32,10},{121,10},{213,10},
{50,11},{145,11},{242,11},{85,12},{186,12},{32,13},{136,13},{242,13},{94,14},{204,14},
{60,15},{174,15},{33,16},{151,16},{14,17},{136,17},{3,18},{128,18},{0,19},{129,19},
{4,20},{137,20},{16,21},{154,21},{37,22},{178,22},{65,23},{211,23},{102,24},{251,24},
{147,25},{44,26},{200,26},{102,27},{6,28},{167,28},{76,29},{242,29},{154,30},{68,31},
{241,31},{160,32},{80,33},{4,34},{185,34},{112,35},{42,36},{229,36},{163,37},{100,38},
{38,39},{235,39},{177,40},{123,41},{70,42},{20,43},{227,43},{182,44},{138,45},{97,46},
{58,47},{21,48},{242,48},{210,49},{180,50},{153,51},{128,52},{105,53},{85,54},{66,55},
{51,56},{37,57},{26,58},{18,59},{11,60},{7,61},{6,62},{7,63},{10,64},{16,65},
{24,66},{35,67},{48,68},{63,69},{81,70},{101,71},{124,72},{149,73},{177,74},{207,75},
{240,76},{19,78},{57,79},{97,80},{140,81},{185,82},{233,83},{27,85},{80,86},{135,87},
{193,88},{254,89},{61,91},{126,92},{194,93},{9,95},{82,96},{158,97},{237,98},{62,100},
{145,101},{232,102},{64,104},{156,105},{250,106},{91,108},{190,109},{36,111},{141,112},{248,113},
{102,115},{215,116},{74,118},{192,119},{57,121},{180,122},{50,124},{179,125},{55,127},{189,128},
{70,130},{209,131},{95,133},{240,134},{132,136},{27,138},{180,139},{80,141},{239,142},{144,144},
{53,146},{220,147},{134,149},{50,151},{226,152},{148,154},{73,156},{1,158},{187,159},{121,161},
{57,163},{252,164},{194,166},{139,168},{86,170},{37,172},{246,173},{202,175},{161,177},{123,179},
{87,181},{55,183},{25,185},{255,186},{231,188},{210,190},{192,192},{177,194},{165,196},{156,198},
{149,200},{146,202},{145,204},{148,206},{153,208},{161,210},{173,212},{187,214},{204,216},{224,218},
{247,220},{17,223},{46,225},{78,227},{113,229},{151,231},{192,233},{236,235},{27,238},{77,240},
{130,242},{186,244},{245,246},{51,249},{116,251},{184,253},{255,255} };
#endif

